name: Sync Fork

on:
  schedule:
    - cron: '20 14 * * *'
  workflow_dispatch:

jobs:
  sync:
    runs-on: ubuntu-slim
    steps:
#      - uses: actions/checkout@main
#        with:
#          fetch-depth: 0 # fatal: refusing to merge unrelated histories
#
#      - name: Sync upstream
#        env:
#          REPO_FORK: https://github.com/j-hc/revanced-magisk-module.git
#        run: |
#          git remote add upstream ${REPO_FORK}
#          git fetch upstream
#          git checkout main
#          git merge upstream/main
#          git push origin main

      - name: Sync upstream
        run: gh repo sync ${GITHUB_REPOSITORY}
